{"ast":null,"code":"import _regeneratorRuntime from\"/home/oshimayamato/practice/matching/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/oshimayamato/practice/matching/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/oshimayamato/practice/matching/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useContext,useState}from'react';import{useEffect}from'react';import{AuthContext}from'../../state/AuthContext';import\"./Room.css\";//トークルームのうちの1つのルーム\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function(_ref){var Id=_ref.Id;// console.log(Id)\nvar _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var Data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/message/latest/\".concat(Id));case 3:Data=_context.sent;// console.log(Data.data);\nsetData(Data.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"room-card\",children:[user.username===data.studentName?/*#__PURE__*/_jsx(\"p\",{children:data.teacherName}):/*#__PURE__*/_jsx(\"p\",{children:data.studentName}),/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:data.message})]});}","map":{"version":3,"names":["axios","React","useContext","useState","useEffect","AuthContext","Id","user","data","setData","fetchData","get","Data","console","log","username","studentName","teacherName","message"],"sources":["/home/oshimayamato/practice/matching/frontend/src/components/room/Room.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useContext, useState } from 'react'\nimport { useEffect } from 'react'\nimport { AuthContext } from '../../state/AuthContext'\nimport \"./Room.css\"\n//トークルームのうちの1つのルーム\nexport default function ({Id}) {\n\n\n  // console.log(Id)\n  const { user } = useContext(AuthContext);\n\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n   const fetchData = async () => {\n    try {\n      \n      const Data = await axios.get(`/message/latest/${Id}`);\n      // console.log(Data.data);\n      setData(Data.data)\n    } catch (err) {\n      console.log(err);\n    }\n    \n   }\n   fetchData();\n  }, [])\n\n\n  return (\n    <div className=\"room-card\" >\n      { user.username === data.studentName \n      ? <p>{data.teacherName}</p>\n      : <p>{data.studentName}</p>\n      }\n      {/* <p>{Data.name}</p> */}\n      <p className=\"message\">{data.message}</p>\n    </div>\n  )\n}\n"],"mappings":"yZAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAO,YAAY,CACnB;AAAA,wFACA,cAAe,eAAgB,IAALC,GAAE,MAAFA,EAAE,CAG1B;AACA,gBAAiBJ,UAAU,CAACG,WAAW,CAAC,CAAhCE,IAAI,aAAJA,IAAI,CAEZ,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eAEpBL,SAAS,CAAC,UAAM,CACf,GAAMM,UAAS,6FAAG,mLAGIV,MAAK,CAACW,GAAG,2BAAoBL,EAAE,EAAG,QAA/CM,IAAI,eACV;AACAH,OAAO,CAACG,IAAI,CAACJ,IAAI,CAAC,gFAElBK,OAAO,CAACC,GAAG,aAAK,CAAC,mEAGnB,kBAVKJ,UAAS,2CAUd,CACDA,SAAS,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAGN,mBACE,aAAK,SAAS,CAAC,WAAW,WACtBH,IAAI,CAACQ,QAAQ,GAAKP,IAAI,CAACQ,WAAW,cAClC,mBAAIR,IAAI,CAACS,WAAW,EAAK,cACzB,mBAAIT,IAAI,CAACQ,WAAW,EAAK,cAG3B,UAAG,SAAS,CAAC,SAAS,UAAER,IAAI,CAACU,OAAO,EAAK,GACrC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}