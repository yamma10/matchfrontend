{"ast":null,"code":"import _regeneratorRuntime from\"/home/oshimayamato/practice/matching/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/oshimayamato/practice/matching/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useRef}from'react';import styles from\"./Register.module.css\";import{Link,useNavigate}from\"react-router-dom\";import{Tab,Tabs,TabList,TabPanel}from'react-tabs';import'react-tabs/style/react-tabs.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var TeacherRegister=function TeacherRegister(){var username=useRef();var email=useRef();var password=useRef();var passwordConfirmation=useRef();var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var teacher;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();//パスワードと確認用パスワードがあっているか確認\nif(!(password.current.value!==passwordConfirmation.current.value)){_context.next=5;break;}passwordConfirmation.current.setCustomValidity(\"パスワードが違います\");_context.next=15;break;case 5:_context.prev=5;teacher={username:username.current.value,email:email.current.value,password:password.current.value};//registerAPI\n_context.next=9;return axios.post(\"auth/teacher\",teacher);case 9:navigate(\"/login\");_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);if(_context.t0.response&&_context.t0.response.data){alert(_context.t0.response.data);}case 15:case\"end\":return _context.stop();}},_callee,null,[[5,12]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:styles.loginBottom,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.loginBox,onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"p\",{className:styles.loginMsg,children:\"\\u6559\\u5E2B\\u65B0\\u898F\\u767B\\u9332\\u306F\\u3053\\u3061\\u3089\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:styles.loginInput,placeholder:\"\\u30E6\\u30FC\\u30B6\\u30FC\\u540D\",required:true,ref:username}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:styles.loginInput,placeholder:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",required:true,ref:email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:styles.loginInput,placeholder:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",required:true,ref:password}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:styles.loginInput,placeholder:\"\\u78BA\\u8A8D\\u7528\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",ref:passwordConfirmation}),/*#__PURE__*/_jsx(\"button\",{className:styles.loginButton,children:\"\\u30B5\\u30A4\\u30F3\\u30A2\\u30C3\\u30D7\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:styles.loginRegisterButton,children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"})})]})});};var StudentRegister=function StudentRegister(){var username=useRef();var email=useRef();var password=useRef();var passwordConfirmation=useRef();var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var student;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();//パスワードと確認用パスワードがあっているか確認\nif(!(password.current.value!==passwordConfirmation.current.value)){_context2.next=5;break;}passwordConfirmation.current.setCustomValidity(\"パスワードが違います\");_context2.next=15;break;case 5:_context2.prev=5;student={username:username.current.value,email:email.current.value,password:password.current.value};//registerAPI\n_context2.next=9;return axios.post(\"auth/student\",student);case 9:navigate(\"/login\");_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](5);if(_context2.t0.response&&_context2.t0.response.data){alert(_context2.t0.response.data);}case 15:case\"end\":return _context2.stop();}},_callee2,null,[[5,12]]);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:styles.loginBottom,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.loginBox,onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"p\",{className:styles.loginMsg,children:\"\\u751F\\u5F92\\u65B0\\u898F\\u767B\\u9332\\u306F\\u3053\\u3061\\u3089\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:styles.loginInput,placeholder:\"\\u30E6\\u30FC\\u30B6\\u30FC\\u540D\",required:true,ref:username}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:styles.loginInput,placeholder:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",required:true,ref:email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:styles.loginInput,placeholder:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",required:true,minLength:\"6\",ref:password}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:styles.loginInput,placeholder:\"\\u78BA\\u8A8D\\u7528\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",required:true,minLength:\"6\",ref:passwordConfirmation}),/*#__PURE__*/_jsx(\"button\",{className:styles.loginButton,onSubmit:function onSubmit(e){return handleSubmit(e);},children:\"\\u30B5\\u30A4\\u30F3\\u30A2\\u30C3\\u30D7\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:styles.loginRegisterButton,children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"})})]})});};return/*#__PURE__*/_jsx(\"div\",{className:styles.login,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.loginWrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.loginTop,children:/*#__PURE__*/_jsx(\"h3\",{className:styles.loginLogo,children:\"\\u30BF\\u30A4\\u30C8\\u30EB\"})}),/*#__PURE__*/_jsxs(Tabs,{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(TabList,{children:[/*#__PURE__*/_jsx(Tab,{children:\"\\u751F\\u5F92\\u767B\\u9332\"}),/*#__PURE__*/_jsx(Tab,{children:\"\\u6559\\u5E2B\\u767B\\u9332\"})]}),/*#__PURE__*/_jsx(TabPanel,{children:/*#__PURE__*/_jsx(StudentRegister,{})}),/*#__PURE__*/_jsx(TabPanel,{children:/*#__PURE__*/_jsx(TeacherRegister,{})})]})]})});}","map":{"version":3,"names":["React","useRef","styles","Link","useNavigate","Tab","Tabs","TabList","TabPanel","axios","Register","TeacherRegister","username","email","password","passwordConfirmation","navigate","handleSubmit","e","preventDefault","current","value","setCustomValidity","teacher","post","response","data","alert","loginBottom","loginBox","loginMsg","loginInput","loginButton","loginRegisterButton","StudentRegister","student","login","loginWrapper","loginTop","loginLogo","textAlign"],"sources":["/home/oshimayamato/practice/matching/frontend/src/pages/register/Register.jsx"],"sourcesContent":["import React, { useRef } from 'react'\nimport styles from \"./Register.module.css\"\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n\nimport 'react-tabs/style/react-tabs.css';\nimport axios from 'axios';\n\nexport default function Register() {\n\n  \n\n  const  TeacherRegister = () => {\n\n    const username = useRef();\n    const email = useRef();\n    const password = useRef();\n    const passwordConfirmation = useRef();\n\n    const navigate = useNavigate();\n\n    const handleSubmit = async(e) => {\n      e.preventDefault();\n\n      //パスワードと確認用パスワードがあっているか確認\n      if (password.current.value !== passwordConfirmation.current.value) {\n        passwordConfirmation.current.setCustomValidity(\"パスワードが違います\");\n      } else {\n          try {\n            \n            const teacher = {\n              username: username.current.value,\n              email: email.current.value,\n              password: password.current.value\n            };\n            //registerAPI\n            await axios.post(\"auth/teacher\", teacher)\n            navigate(\"/login\");\n          } catch (error) {\n            if (error.response && error.response.data) {\n              alert(error.response.data);\n            }\n          }\n        }\n    };\n    \n  return (\n    <div className={styles.loginBottom}>\n        <form className={styles.loginBox} onSubmit={(e) => handleSubmit(e)}>\n          <p className={styles.loginMsg}>\n            教師新規登録はこちら\n          </p>\n          <input\n            type=\"text\"\n            className={styles.loginInput}\n            placeholder=\"ユーザー名\"\n            required\n            ref={username}\n          />\n          <input\n            type=\"email\"\n            className={styles.loginInput}\n            placeholder=\"メールアドレス\"\n            required\n            ref={email}\n          />\n          <input\n            type=\"password\"\n            className={styles.loginInput}\n            placeholder=\"パスワード\"\n            required\n            ref={password}\n          />\n          <input\n            type=\"password\"\n            className={styles.loginInput}\n            placeholder=\"確認用パスワード\"\n            ref={passwordConfirmation}\n          />\n          <button className={styles.loginButton} >\n            サインアップ\n          </button>\n          <Link to=\"/login\"  >\n            <button className={styles.loginRegisterButton}>\n              ログイン\n            </button>\n          </Link>\n        </form>\n      </div>\n    )\n  }\n  const  StudentRegister = () => {\n    const username = useRef();\n    const email = useRef();\n    const password = useRef();\n    const passwordConfirmation = useRef();\n\n    const navigate = useNavigate();\n\n    const handleSubmit = async(e) => {\n      e.preventDefault();\n        //パスワードと確認用パスワードがあっているか確認\n      if (password.current.value !== passwordConfirmation.current.value) {\n        passwordConfirmation.current.setCustomValidity(\"パスワードが違います\");\n      } else {\n          try {\n            \n            const student = {\n              username: username.current.value,\n              email: email.current.value,\n              password: password.current.value\n            };\n            //registerAPI\n            await axios.post(\"auth/student\", student)\n            navigate(\"/login\")\n          } catch (error) {\n            if (error.response && error.response.data) {\n              alert(error.response.data);\n            }\n          }\n        }\n    };\n\n    return (\n      <div className={styles.loginBottom}>\n          <form className={styles.loginBox} onSubmit={(e) => handleSubmit(e)}>\n            <p className={styles.loginMsg}>\n              生徒新規登録はこちら\n            </p>\n            <input\n              type=\"text\"\n              className={styles.loginInput}\n              placeholder=\"ユーザー名\"\n              required\n              ref={username}\n            />\n            <input\n              type=\"email\"\n              className={styles.loginInput}\n              placeholder=\"メールアドレス\"\n              required\n              ref={email}\n            />\n            <input\n              type=\"password\"\n              className={styles.loginInput}\n              placeholder=\"パスワード\"\n              required\n              minLength=\"6\"\n              ref={password}\n            />\n            <input\n              type=\"password\"\n              className={styles.loginInput}\n              placeholder=\"確認用パスワード\"\n              required\n              minLength=\"6\"\n              ref={passwordConfirmation}\n            />\n            <button className={styles.loginButton} onSubmit={(e) => handleSubmit(e)}>\n              サインアップ\n            </button>\n            <Link to=\"/login\"  >\n              <button className={styles.loginRegisterButton} >\n                ログイン\n              </button>\n            </Link>\n          </form>\n        </div>\n    )\n  }\n  return (\n    <div className={styles.login}>\n      <div className={styles.loginWrapper}>\n        <div className={styles.loginTop}>\n          <h3 className={styles.loginLogo}>タイトル</h3>\n        </div>\n        {/* ここからTabで囲む */}\n        <Tabs style={{textAlign: 'center'}}>\n          <TabList>\n            <Tab>生徒登録</Tab>\n            <Tab>教師登録</Tab>\n          </TabList>\n          <TabPanel>\n            <StudentRegister />\n          </TabPanel>\n          <TabPanel>\n            <TeacherRegister />\n          </TabPanel>\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}